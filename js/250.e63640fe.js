"use strict";(self["webpackChunkelement_ui_pro_components"]=self["webpackChunkelement_ui_pro_components"]||[]).push([[250],{81476:function(e,o,t){t.r(o),t.d(o,{default:function(){return w}});var a=function(){var e=this,o=e._self._c;return o("CodeBlock",{attrs:{src:"editable-pro-table/components/Basic.vue"}},[o("Demo")],1)},l=[],r=function(){var e=this,o=e._self._c;return o("div",{staticClass:"editable-pro-table-demo"},[o("EditableProTable",{ref:"editableProTableRef",attrs:{dataSource:e.dataSource,recordCreatorProps:e.recordCreatorProps,maxLength:5,editable:e.editable,rowKey:"id",className:"editable-table",loading:e.loading,tableProps:{border:!0},tableEvents:{"selection-change":this.selectionChange},columns:e.columns,defaultSize:"small"},scopedSlots:e._u([{key:"name2",fn:function({form:t,formItem:a,recordKey:l,index:r}){return[o("el-input",e._b({model:{value:t.name2,callback:function(o){e.$set(t,"name2",o)},expression:"form.name2"}},"el-input",a.fieldProps,!1))]}}])}),o("div",{staticStyle:{"margin-top":"10px"}},[o("el-button",{on:{click:e.getFormRef}},[e._v("getFormRef")]),o("el-button",{on:{click:e.getTableRef}},[e._v("getTableRef")]),o("el-button",{on:{click:e.validate}},[e._v("validate")]),o("el-button",{on:{click:e.validateRow}},[e._v("validateRow")]),o("el-button",{on:{click:e.reset}},[e._v("reset")]),o("el-button",{on:{click:e.getRowData}},[e._v("getRowData")]),o("el-button",{on:{click:e.getRowsData}},[e._v("getRowsData")]),o("el-button",{on:{click:e.setRowData}},[e._v("setRowData")])],1)],1)},n=[],i=t(89154),s=t.n(i),d=(t(18111),t(22489),t(14041)),c={name:"Demo1",components:{EditableProTable:d.GC},computed:{editable(){const{editableKeys:e}=this;return{type:"multiple",editableKeys:e,onChange:e=>this.editableKeys=e,onSave:(e,o,t)=>(console.log("save",e,o,t),new Promise(e=>{setTimeout(()=>{e(!0)},1e3)})),saveText:"保存一行",onDelete:(e,o)=>(console.log("delete",e,o),new Promise(e=>{setTimeout(()=>{e(!0)},500)})),deleteText:"删除一行",onCancel:(e,o,t)=>(console.log("cancel",e,o,t),new Promise(e=>{setTimeout(()=>{e(!0)},50)})),cancelText:"删除或重置",deletePopconfirmMessage:"确认删除？",onlyOneLineEditorAlertMessage:"一次只能编辑一行"}},columns(){const e=this.$createElement;return[{width:80,type:"selection","reserve-selection":!0,fixed:"left"},{width:240,label:"活动名称1",prop:"name1",valueType:"input",formItemProps:{rules:[{required:!0,message:"请输入",trigger:"blur"}]}},{width:240,label:"活动名称2",renderCellHeader:()=>e("span",{style:"color: #F56C6C;"},["活动名称2"]),prop:"name2",valueType:"slot",fieldProps:{placeholder:"valueType: slot 实现的",clearable:!0}},{minWidth:240,label:"活动名称3",prop:"name3",renderField:({form:o,formItem:t,recordKey:a,index:l})=>(console.log("renderField",a,l),e("el-input",s()([{attrs:{value:o.name3},on:{input:e=>o.name3=e}},{attrs:t.fieldProps}]))),fieldProps:{placeholder:"renderField 实现的",clearable:!0}},{minWidth:240,label:"活动名称3-1",prop:"name3_1",renderField:({form:o,formItem:t,recordKey:a,index:l})=>(console.log("renderField",a,l),e("el-input",s()([{attrs:{value:o.name3_1},on:{input:e=>o.name3_1=e}},{attrs:t.fieldProps}]))),formatter:(e,o,t,a)=>e.name3_1,fieldProps:{placeholder:"renderField 实现的",clearable:!0}},{minWidth:240,label:"活动名称4",prop:"name4",valueType:"input",fieldProps:{placeholder:"formatter 渲染文本",clearable:!0},formatter:(e,o,t,a)=>`formatter ${t} loooooooooooooooooooooooooooooooooooooong`,"show-overflow-tooltip":!0},{width:180,label:"活动类型",prop:"type1",valueType:"select",valueEnum:{1:"球类",2:"棋类",3:"唱歌"}},{width:180,label:"活动类型",prop:"type2",valueType:"select",fieldEvents:{change:(e,o)=>{console.log("val",e,o)}},optionLoader:()=>new Promise(e=>{setTimeout(()=>{e([{label:"球类",value:"1"},{label:"棋类",value:"2"},{label:"唱歌",value:"3"}])},100)})},{width:180,label:"活动时间",prop:"date",valueType:"date-picker",fieldProps:{valueFormat:"yyyy-MM-dd"}},{width:100,label:"活动开启",prop:"status",valueType:"switch",renderCell:o=>e("el-switch",{attrs:{disabled:!0,value:o.row.status}}),editable:(e,o,t)=>(console.log("editable",e,o,t),!e)},{width:100,label:"只读",prop:"readonly",formatter:(o,t,a,l)=>e("span",["我是只读的"]),readonly:!0},{width:180,label:"操作",valueType:"option",fixed:"right",renderCell:(o,t)=>[e("el-button",{attrs:{type:"text"},on:{click:()=>t.startEditable(o.row.id)}},["编辑"]),e("el-button",{attrs:{type:"text"},on:{click:()=>this.dataSource=this.dataSource.filter(e=>e.id!==o.row.id)}},["删除"]),e("el-button",{attrs:{type:"text"},on:{click:()=>t.addEditRecord({id:Math.random().toString().slice(2,10),name1:o.row.name1})}},["复制"])]}]}},data(){return{dataSource:void 0,recordCreatorProps:{position:"top",newRecordType:"dataSource",record:()=>({id:Math.random().toString().slice(2,10),name1:"hello",name2:void 0,name3:void 0,name3_1:void 0,name4:void 0,type1:void 0,type2:void 0,date:void 0,status:void 0}),createButtonText:"新增一行",style:{background:"#d9d9d9"},buttonProps:{type:"primary"},onlyAddOneLineAlertMessage:"只能新增一行!"},editableKeys:[],loading:!1}},created(){this.loading=!0,setTimeout(()=>{this.loading=!1;const e=[{name1:void 0,name2:"名称2-1",name3:"名称3-1",name3_1:"名称3_1-1",name4:"名称4-1",id:"1111"},{name1:"hello js",name2:"名称2-2",name3:"名称3-2",name3_1:"名称3_1-2",name4:"名称4-2",id:"11111"}];this.dataSource=e},1e3)},methods:{selectionChange(e){console.log("selection",e)},getFormRef(){console.log("formRef",this.$refs.editableProTableRef.getFormRef())},getTableRef(){console.log("tableRef",this.$refs.editableProTableRef.getTableRef())},validate(){const e=this.$refs.editableProTableRef.validate();e(e=>{console.log("valid",e)})},async validateRow(){const e=await this.$refs.editableProTableRef.validateRow(0);console.log("validateRes",e)},reset(){const e=this.$refs.editableProTableRef.reset();e()},getRowData(){const e=this.$refs.editableProTableRef.getRowData(1);console.log("第二行数据",e);const o=this.$refs.editableProTableRef.getRowData("11111");console.log("id 为 11111 的数据",o)},getRowsData(){console.log("rowsData",this.$refs.editableProTableRef.getRowsData())},setRowData(){const e=this.$refs.editableProTableRef;e.setRowData(1,{name1:"hello javaScript"}),e.setRowData("11111",{name3:void 0})}}},m=c,p=t(81656),u=(0,p.A)(m,r,n,!1,null,"b77d47e2",null),b=u.exports,f=t(75166),v={name:"EditableProTableBasic",components:{Demo:b,CodeBlock:f.A}},g=v,h=(0,p.A)(g,a,l,!1,null,"1fc8e59e",null),w=h.exports}}]);
//# sourceMappingURL=250.e63640fe.js.map